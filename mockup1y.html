<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rotisería Sabores Caseros - Registro (BS-01)</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body{font-family:'Open Sans',Arial,sans-serif;margin:0;background:#f9f9f9}
    header{background:#000;color:#fff;padding:10px;display:flex;justify-content:space-between;align-items:center}
    .logo{background:orange;padding:10px 20px;border-radius:50px;font-weight:700;color:#000}
    nav{background:#222;padding:10px;text-align:center}
    nav a{color:#fff;margin:0 10px;text-decoration:none}
    .card{max-width:420px;margin:30px auto;padding:20px;background:#fff;border-radius:8px;border:1px solid #eee}
    .msg{margin-top:10px}
    footer{background:#222;color:#fff;text-align:center;padding:15px;margin-top:30px;font-size:14px}
  </style>
</head>
<body>
  <header>
    <div class="logo">Rotisería Sabores Caseros</div>
    <div>Contacto: +56 9 9999 9999</div>
  </header>
  <nav>
    <a href="#">Inicio</a><a href="#">Menú</a><a href="#">Contacto</a><a href="#">Carrito</a>
  </nav>

  <main>
    <div class="card">
      <h3>Registro de cliente</h3>
      <p>Regístrate con tu email y contraseña</p>
      <input id="email" class="form-control mb-2" placeholder="sofia@example.com" />
      <input id="password" type="password" class="form-control mb-2" placeholder="Contraseña" />
      <button id="btnReg" class="btn btn-primary w-100">Registrarme</button>
      <div id="feedback" class="msg text-danger"></div>
    </div>
  </main>

  <footer>© 2025 Rotisería Sabores Caseros - Todos los derechos reservados.</footer>

  <script>
    // Mock DB (local to this page)
    const existingEmails = ['sofia@example.com']; // scenario: email duplicated
    const users = []; // will store created users

    function isPasswordStrong(pw) {
      // simple rule: min 6 chars, has letter and number
      return pw.length >= 6 && /[a-zA-Z]/.test(pw) && /\d/.test(pw);
    }

    document.getElementById('btnReg').addEventListener('click', () => {
      const email = document.getElementById('email').value.trim();
      const pw = document.getElementById('password').value;

      const fb = document.getElementById('feedback');
      fb.textContent = '';

      if (!email || !pw) { fb.textContent = 'Completa todos los campos'; return; }

      // Escenario: Email duplicado
      if (existingEmails.includes(email) || users.some(u=>u.email===email)) {
        // Show message
        fb.textContent = 'El email ya está en uso';
        alert('El email ya está en uso');
        return;
      }

      // Escenario: Contraseña débil
      if (!isPasswordStrong(pw)) {
        fb.textContent = 'La contraseña es insegura';
        alert('La contraseña es insegura');
        return;
      }

      // Escenario: Registro válido
      users.push({email, password: pw});
      // simulate redirect to catálogo
      alert('Registro exitoso — redirigiendo al catálogo');
      // In skeleton, we just clear form and show success
      document.getElementById('email').value = '';
      document.getElementById('password').value = '';
      fb.textContent = 'Cuenta creada. (Simulado: ahora en catálogo)';
      fb.classList.remove('text-danger');
      fb.classList.add('text-success');
    });
  </script>
</body>
</html>